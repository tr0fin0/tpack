%% tpack_cv.sty 
%% --------------------------------------------- 
%% A package creeated for cv files
%% 
%% by Guilherme Trofino.
%% ---------------------------------------------




% ----------------------------------------------
%               Presets
% ----------------------------------------------


\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{tpack_cv}[2024/04/10 Trofino's Package]



% ----------------------------------------------
%               Packages: Required
% ----------------------------------------------

\usepackage{geometry}
\usepackage{enumitem, multicol, subfiles, titlesec}
\usepackage[english, french, portuguese]{babel}
\usepackage{iflang} 
\usepackage{graphicx}
\usepackage{hyperref}

\usepackage[dvipsnames]{xcolor}

\usepackage{mdwlist}
\usepackage{relsize}

\usepackage{microtype, tgpagella}
\usepackage[T1]{fontenc}



% ----------------------------------------------
%               Packages: Customization
% ----------------------------------------------

\geometry{
    margin=10mm
}

\hypersetup{
    colorlinks=false,
    urlbordercolor=CadetBlue
}

\setlength{\multicolsep}{3.0pt plus 1.0pt minus 0.75pt}

\pagenumbering{gobble}

\newcommand{\cvcolor}{Blue}


% ----------------------------------------------
%               Commands: Customization
% ----------------------------------------------


% LaTeX modifications
\renewcommand{\maketitle}{
    \noindent{\LARGE\textbf{\@author}}
    \hfill
    \small{\today\version}
    \vspace{0.5mm}

    \contactinfo
}

\titleformat
    {\section}              % Part
    [block]                 % Part Shape
    {\normalfont\bf\Large}  % Font Size
    {\thesection. }         % Label Numbering
    {0mm}                   % Part Separation
    {}                      % Code Before
    [{\color{\cvcolor}\titlerule[0.5mm]}]   % Code After

    \titlespacing*{\section}{0.0mm}{7.5mm}{2.5mm}

\titleformat
    {\subsection}              % Part
    [block]                 % Part Shape
    {\normalfont\large}     % Font Size
    {\thesection.\thesubsection } % Label Numbering
    {0mm}                   % Part Separation
    {}                      % Code Before
    []                      % Code After

    \titlespacing*{\subsection}{0.0mm}{5.0mm}{0.0mm}


%   localization variables
\newcommand{\version}{
    \IfLanguageName{english}{[EN version]}{
        \IfLanguageName{french}{[FR version]}{
            not defined
        }
    }
}

\newcommand*{\cvbody}{
    \IfLanguageName{english}{\subfile{translation/cv_en.tex}}{
        \IfLanguageName{french}{\subfile{translation/cv_fr.tex}}{
            not defined
        }
    }
}

% \newcommand*{}{
%     \IfLanguageName{english}{}{
%         \IfLanguageName{french}{}{
%             not defined
%         }
%     }
% }


% cv sections
\newcommand{\imagescale}{0.6125}
\newcommand{\contactinfo}{
    \noindent\includegraphics[width=\imagescale\baselineskip, height=\imagescale\baselineskip]{package/icons/email-240.png} \href{mailto:guitrofino@gmail.com}{guitrofino@gmail.com}
    \quad\includegraphics[width=\imagescale\baselineskip, height=\imagescale\baselineskip]{package/icons/linkedin-240.png} \href{https://www.linkedin.com/in/guilherme-trofino/}{LinkedIn: guilherme-trofino}
    \quad\includegraphics[width=\imagescale\baselineskip, height=\imagescale\baselineskip]{package/icons/github-240.png} \href{https://github.com/tr0fin0}{GitHub: tr0fin0}
    \quad\includegraphics[width=\imagescale\baselineskip, height=\imagescale\baselineskip]{package/icons/phone-240.png} +33 07 49 18 55 00
}

\newcommand{\summary}[2]{
    \begin{multicols}{2}
    \noindent \textit{#1}

    \columnbreak

    \noindent #2
    \end{multicols}
}


% cv building block
\newcommand{\topicblock}[5]{
    \subsection*{#1}
    \textcolor{\cvcolor}{\textbf{#2}}\hfill\includegraphics[width=\imagescale\baselineskip, height=\imagescale\baselineskip]{package/icons/location-240.png} #3\qquad\includegraphics[width=\imagescale\baselineskip, height=\imagescale\baselineskip]{package/icons/calendar-240.png} #4

    \begin{indented}
        \item[]#5
    \end{indented}
}

\newenvironment{indented}{
    \begin{list}{}{
        \setlength{\leftmargin}{5mm}
        \setlength{\parsep}{0mm}
        \setlength{\parskip}{0mm}
        \setlength{\itemsep}{0mm}
        \setlength{\topsep}{0mm}
    }}{\end{list}}

\newcommand{\topicline}[2]{
    \textbf{#1}: #2\\
}